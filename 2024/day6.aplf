 day6
 ⍝ i←↑⊃⎕NGET'/home/neutropolis/Downloads/day6_example.txt'1
 i←↑⊃⎕NGET'/home/neutropolis/Downloads/day6_input.txt'1
 c←'^>∨<'
 x←0 (1+⊃⍴i)
 Step←{
     m←⍵
     d←m[p←⍸m∊c]
     n←p+(¯1 0)(0 1)(1 0)(0 ¯1)[rp←c⍳d]
     x(∊∨.∨⍨∊)↑n:('X'@p)m
     m[n]='#':((1⌽c)[rp]@p)m
     m[p]←'X' ⋄ m[n]←d
     m
 }
 next←i
 :Repeat
    next←Step next
 :Until ~×+/+/next∊c
 +/+/'X'=next
